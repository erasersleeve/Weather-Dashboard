<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"/>
    <title>Weather Dashboard</title>
</head>
<body class="container">
    <header class="jumbotron text-center">
        <h1 class="display-3">Weather Dashboard</h1>
    </header>
    
    



    

    <main class="row">    
        <section class= "col-3">
            <table class="table">
                <thead>
                    <tr>
                        <th class="row"scope=col>
                            <div class="col-xs-2">
                                <input class="form-control" placeholder="Enter Location">
                            </div>
                            <div class="col-xs-2">    
                                <button id="searchBtn" class="btn btn-dark">Go</button>
                            </div>
                        </th>
                    </tr>
                </thead>



                <tbody>
                    <tr>
                        <td>Results Here</td>   
                    </tr>
                </tbody>
            </table>
        </section>
        <section class = "col-9">
            <div class="row">
                <div class="card" style="width:85%;">
                    <div class="card-body">
                        <div class="card-title"> Last searched city and today's date</div>
                        <div class="card-text">Temperature:</div>
                        <div class="card-text">Humidity:</div>
                        <div class="card-text">Wind Speed:</div>
                        <div class="card-text">UV Index:</div>
                    </div>
                </div>
            </div>
            <div class="row">
                <h2>5-Day Forecast:</h2>
            </div>
            <div class="row">
                <div class="card" style="width:8rem; margin:10px">
                    <div class="card-body">
                        <div class="card-title">Date</div>
                        <div class="card-text">weather forecast icon</div>
                        <div class="card-text">Temperature:</div>
                        <div class="card-text">Humidity:</div>
                    </div>
                </div>
                <div class="card" style="width:8rem; margin:10px">
                    <div class="card-body">
                        <div class="card-title">Date</div>
                        <div class="card-text">weather forecast icon</div>
                        <div class="card-text">Temperature:</div>
                        <div class="card-text">Humidity:</div>
                    </div>
                </div>
                <div class="card" style="width:8rem; margin:10px">
                    <div class="card-body">
                        <div class="card-title">Date</div>
                        <div class="card-text">weather forecast icon</div>
                        <div class="card-text">Temperature:</div>
                        <div class="card-text">Humidity:</div>
                    </div>
                </div>
                <div class="card" style="width:8rem; margin:10px">
                    <div class="card-body">
                        <div class="card-title">Date</div>
                        <div class="card-text">weather forecast icon</div>
                        <div class="card-text">Temperature:</div>
                        <div class="card-text">Humidity:</div>
                    </div>
                </div>
                <div class="card" style="width:8rem; margin:10px">
                    <div class="card-body">
                        <div class="card-title">Date</div>
                        <div class="card-text">weather forecast icon</div>
                        <div class="card-text">Temperature:</div>
                        <div class="card-text">Humidity:</div>
                    </div>
                </div>
            </div>
        </section>
    </main>    


    <footer>

    </footer>
    
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
    <script type ="text/javascript">
    //on click search the database for the city in the searchbar, return data, and assign data to report locations
//         $("#searchBtn").on("click", function(){

//             var queryURL = "api.openweathermap.org/data/2.5/weather?q={city name}&appid={53f6e5db37a0164708effe3dc2b4c1f5}";
// â€‹
//             $.ajax({
//             url: queryURL,
//             method: "GET"
//             }).then(function(response) {
//             console.log(response);
                    

//         })
            var apiKey ="53f6e5db37a0164708effe3dc2b4c1f5"
            // var queryURL = "https://api.openweathermap.org/data/2.5/weather?q=Philadelphia,Pennsylvania&appid=" +apiKey;
           var lat="39.952584";
           var lon="-75.165221";
           //These below fail and give me a 400 (bad request) every time. Why?
            var cityName = "Philadelphia,Pennsylvania";       //$("#searchBtn").val
            var weatherUrl = "https://api.openweathermap.org/data/2.5/weather?q="+cityName+"&appid=" +apiKey;
           //data provided for UV index at 12pm every day.
            var ultravUrl = "http://api.openweathermap.org/data/2.5/uvi?appid="+apiKey+"&lat="+lat+"&lon="+lon;
          $("#searchBtn").on("click", function (event){

                $.ajax({
                url: weatherUrl,
                method: "GET"
                }).then(function(weather) {
                console.log(weather);
                console.log("temp " + weather.main.temp);
                console.log("humid " + weather.main.humidity);
                console.log("speed " + weather.wind.speed);
                
                })

                $.ajax({
                    url: ultravUrl,
                    method: "GET"
                }).then(function(ultrav) {
                    console.log("UV " + ultrav.value);
                })
          })   
            
    </script>
    
</body>
</html>